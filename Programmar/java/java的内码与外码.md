# java的内码与外码

## 何为内码

### 字符如何在char中存储

- 提问: 为什么‘中'字在char中实际存储值是多少，为什么是这个值？
- 答案: 20013，因为Java的char类型以`UTF-16`进行编码。

正如上面的问答所表现的，Java规定char使用`UTF-16`编码，而这，也就是我们常说的**内码**，这也引出了内码的定义。

### 定义

> **内码**是程序内部使用的字符编码，特别是某种语言实现其char或String类型在内存里用的内部编码。

### 外码定义

> 外码是程序与外部交互时外部使用的字符编码。“外部”相对“内部”而言；不是char或String在内存里用的内部编码的地方都可以认为是“外部”。例如，外部可以是序列化之后的char或String，或者外部的文件、命令行参数之类的。

## Java内使用UTF-16，如何与使用其他编码的系统打交道？

可以看看这个例子
> new String("字").getBytes().length 返回的是3，这说明缺省编码是UTF-8。
>
> 如果你显式地传入一个参数，new String("字").getBytes("GBK").length，那么返回就是 2.

Java用来与外部系统打交道时所使用的编码就是外码，

> String.getBytes()是一个用于将String的内码转换为指定的外码的方法。无参数版使用平台的默认编码作为外码，有参数版使用参数指定的编码作为外码；将String的内容用外码编码好，结果放在一个新byte[]返回。

## 参考文献

1. [Java 语言中一个字符占几个字节？](https://www.zhihu.com/question/27562173)
2. [Java 语言中一个字符占几个字节？回答1](https://www.zhihu.com/question/27562173/answer/76208352)
3. [Java 语言中一个字符占几个字节？回答2](https://www.zhihu.com/question/27562173/answer/37188642)
